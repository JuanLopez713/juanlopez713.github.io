<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Exponential Sequences Explorer</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../shared/styles.css">
  <style>
    .table-wrap {
      overflow-x: auto;
      background: white;
      border-radius: 6px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    table.ratiotable {
      width: 100%;
      border-collapse: collapse;
      min-width: 520px;
    }
    .ratiotable th, .ratiotable td {
      border: 1px solid #e9ecef;
      padding: 6px 8px;
      text-align: center;
      font-size: 0.95rem;
      color: #000000;
      vertical-align: middle;
    }
    .ratiotable th { background: #f8f9fa; }
    .ratiotable td.blank { background: #fcfcfc; color: #ccc; }

    /* Interactivity */
    .t-cell, .r-cell { cursor: pointer; }
    .hl-t { background: #ffefd6 !important; box-shadow: inset 0 0 0 2px #F0B800; }
    .hl-r { background: #e6f7ff !important; box-shadow: inset 0 0 0 2px #00A3FF; }
    .hl-selected { background: #fff1a8 !important; box-shadow: inset 0 0 0 3px #000000; }
    .hl-base { background: #fff1a8 !important; box-shadow: inset 0 0 0 3px #E60000; }

    .summary { margin-top: 0.5rem; color: #000000; }
    .summary strong { color: #000000; }

    .panels {
      display: grid;
      grid-template-columns: 1fr;
      gap: 0.75rem;
    }
    @media (min-width: 900px) {
      .panels { grid-template-columns: 1.2fr 1fr; }
    }

    .stars-panel {
      background: #fff;
      border-radius: 6px;
      padding: 0.5rem 0.5rem 0.25rem 0.5rem;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    .stars-steps {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.5rem;
    }
    .step {
      border: 1px solid #e9ecef;
      border-radius: 6px;
      padding: 0.5rem;
      background: #fdfdfd;
    }
    .step h4 {
      margin: 0 0 0.25rem 0;
      font-size: 0.95rem;
      color: #000000;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .step .value { font-weight: 700; color: #E60000; font-size: 0.95rem; }
  </style>
</head>
<body>
  <div class="container">
    <a class="back-link" href="../../index.html">← Back to Home</a>
    <h1>Exponential Sequences Explorer</h1>

    <div class="controls-container">
      <aside class="sidebar">
        <div class="controls">
          <div class="control">
            <label for="ARange">A (scale): <span id="AVal" class="inline-val">1</span></label>
            <input id="ARange" type="range" min="-5" max="5" step="1" value="1" />
          </div>
          <div class="control">
            <label for="rRange">r (ratio): <span id="rVal" class="inline-val">2</span></label>
            <input id="rRange" type="range" min="-5" max="5" step="1" value="2" />
          </div>
          <div class="control">
            <label for="CRange">C (shift): <span id="CVal" class="inline-val">0</span></label>
            <input id="CRange" type="range" min="-10" max="20" step="1" value="0" />
          </div>
          <div class="control">
            <label for="rowsRange">Rows shown (n from 0): <span id="rowsVal" class="inline-val">8</span></label>
            <input id="rowsRange" type="range" min="4" max="14" step="1" value="8" />
          </div>
          <div class="control">
            <button id="btnRandom" class="widget-action-button">Random Sequence</button>
          </div>
          <div class="control">
            <button id="btnToggleMode" class="widget-action-button">Show Numbers</button>
          </div>
        </div>
        <div class="info">
          <h3>Key Idea</h3>
          <p>For t(n) = A rⁿ + C with n starting at 0, the recursive form is t(n) = r·t(n−1) + (1−r)·C.</p>
          <p><strong>Tip:</strong> When C = 0, the common ratio is constant: ρ = r.</p>
        </div>
      </aside>

      <main class="chartarea">
        <div class="panels">
          <section>
            <div class="table-wrap">
              <table id="ratioTable" class="ratiotable"></table>
            </div>
            <div class="summary">
              <div>Formula: <strong>t(n) = A rⁿ + C</strong> with A=<span id="sA">1</span>, r=<span id="sr">2</span>, C=<span id="sC">0</span></div>
              <div>Recurrence: <strong>t(n) = r·t(n−1) + (1−r)·C</strong></div>
            </div>
          </section>

          <section class="stars-panel">
            <div class="info" style="margin-bottom: 0.5rem;">
              <h3>Recursive Form</h3>
              <p>Click table cells to see recursion. Clicking t(n) shows t(n−1) and ρ at that step; clicking a ρ shows how it relates to r and C.</p>
            </div>
            <div id="recursionPanel" class="stars-steps"></div>
          </section>
        </div>
      </main>
    </div>
  </div>

  <script type="module" src="exponential-sequences.js"></script>
</body>
</html>


